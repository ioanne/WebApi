<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Agregar Usuario</title>
	<meta charset="utf-8" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script>
        function AgregarUsuario() {  
         
            var Usuario = {};  
            Usuario.Nombre = $("#nombre").val();  
            Usuario.Apellido = $("#apellido").val();           
            Usuario.Email = $("#email").val();    
            Usuario.Password = $("#password").val();    
  
 
            $.ajax({  
                url:"/api/Usuarios",   
                type: "POST",  
                contentType: "application/json;charset=utf-8",  
                data: JSON.stringify(Usuario),
                dataType: "json",  
                success: function (response) {  
  
                    alert("El usuario se creo con exito!");  
                        
                },  
  
            error: function (x, e) {  
                alert('Failed');  
                alert(x.responseText);  
                alert(x.status);  
  
            }  
        });  
     
        }

        function LimpiarCampos() {
            document.getElementById("myForm").reset();
        }
     
        $(document).ready(function ()  
        {  
            $("#Guardar").click(function (e) {
                AgregarUsuario();
                LimpiarCampos();
                e.preventDefault();
            });  
  
        });


        function EditarUsuario(user_id) {

        }


        $(document).ready(function () {
            $("#Editar").click(function (e) {
                EditarUsuario();
                LimpiarCampos();
                e.preventDefault();
            });

        });



        $(document).ready(function () {
            var usuarios = $("#usuarios");

            //$("#GetallData").click(function () {
                $.ajax({
                    type: 'GET',
                    url: 'api/Usuarios',
                    dataType: 'json',
                    success: function (data) {
                        usuarios.empty();
                        $.each(data, function (index, val) {
                            var Id = Id = val.Id
                            var Name = val.Nombre;
                            usuarios.append('<option value="' + Id + '">' + Name + '</li>');
                        });
                    }
                });
            //});
        });


    </script>

</head>
<body>
    <div style="margin:25px 50px 25px 50px;">
        <form class="form-horizontal form-group" id="form" role="form">
            <h4>Editar o eliminar usuarios</h4>
            <div class="form-group">
                <label for="email">Seleccionar usuario: </label>
                <select class="input-large form-control" id="usuarios"></select>
            </div>
            <br />
            <div class="form-group">
                <button type="submit" class="btn btn-default" id="Editar">Editar usuario</button>
                <button type="submit" class="btn btn-default" id="Eliminar">Eliminar usuario</button>
            </div>

</form>
    </div>
</body>  
</html>
